# Org.OpenAPITools - the C# library for the Sample Life Kafka Topic

## Introduction

This document will describe the messages that can get posted on the `sample-life` kafka topic.

The goal is that multiple applications can communicate with each other through this topic.

Some examples could be:
- SLIMS starts a protocol for a certain sample -> SLIMS posts a message on the topic saying the sample has started a protocol -> a dashboard application picks up this message and uses it to display the info to a lab admin
- An Agilent scale weighs a certain sample -> posts this result on the kafka topic -> SLIMS picks this up and fills the result value for that sample
- ...

## SLIMS as a producer

To make SLIMS work as a producer a few things are needed:
- SLIMSGATE is running
- The kafka-sample-life-producer plugin is running
- Rules are configured for every workflow context event that trigger the `kafka-sample-life-producer` slimsgate flow.
  These rules can have a conditional expression as well that can be customized.

TODO: The plugin and rules could be a SLIMSSHARE package

Certain events in SLIMS will result in a message being posted on the topic.
The message will always be a SampleMessage, see the schema for more information.
Depending on the event the SampleMessage will contain an event with some extra information about the event.
- When a result is filled in for a sample inside a workflow the event object will contain a SampleResult object
- When a sample is reduced (derived in SLIMS terminology) within a workflow the event object will contain a SampleReduced object
- When a sample is mixed in a workflow the event object will contain a SampleMixed object
- When a sample is scheduled in a workflow the event object will contain a SampleScheduled object
- When a sample is rescheduled (requeued in SLIMS terminology) in a workflow the event object will contain a SampleRescheduled object
- When a sample is cancelled in a workflow the event object will contain a SampleCancelled object
- When a flag is added to a sample in a workflow the event object will contain a SampleFlagged object
- When a protocol step is started then for every sample within that step a messages is produced and the event object will contain a SampleProtocolStepStarted object
- When a protocol step is finished then for every sample within that step a messages is produced and the event object will contain a SampleProtocolStepFinished object
- When a protocol is finished then for every sample within that protocol a messages is produced and the event object will contain a SampleProtocolFinished object
- When a sample went through the complete workflow the event object will contain a SampleWorkflowFinished object


This C# SDK is automatically generated by the [OpenAPI Generator](https://openapi-generator.tech) project:

- API version: 1.0.0
- SDK version: 1.0.0
- Build package: org.openapitools.codegen.languages.CSharpClientCodegen

## Frameworks supported


- .NET 4.0 or later
- Windows Phone 7.1 (Mango)

## Dependencies


- [RestSharp](https://www.nuget.org/packages/RestSharp) - 105.1.0 or later
- [Json.NET](https://www.nuget.org/packages/Newtonsoft.Json/) - 7.0.0 or later
- [JsonSubTypes](https://www.nuget.org/packages/JsonSubTypes/) - 1.2.0 or later

The DLLs included in the package may not be the latest version. We recommend using [NuGet](https://docs.nuget.org/consume/installing-nuget) to obtain the latest version of the packages:

```
Install-Package RestSharp
Install-Package Newtonsoft.Json
Install-Package JsonSubTypes
```

NOTE: RestSharp versions greater than 105.1.0 have a bug which causes file uploads to fail. See [RestSharp#742](https://github.com/restsharp/RestSharp/issues/742)

## Installation

Run the following command to generate the DLL

- [Mac/Linux] `/bin/sh build.sh`
- [Windows] `build.bat`

Then include the DLL (under the `bin` folder) in the C# project, and use the namespaces:

```csharp
using Org.OpenAPITools.Api;
using Org.OpenAPITools.Client;
using Org.OpenAPITools.Model;

```


## Packaging

A `.nuspec` is included with the project. You can follow the Nuget quickstart to [create](https://docs.microsoft.com/en-us/nuget/quickstart/create-and-publish-a-package#create-the-package) and [publish](https://docs.microsoft.com/en-us/nuget/quickstart/create-and-publish-a-package#publish-the-package) packages.

This `.nuspec` uses placeholders from the `.csproj`, so build the `.csproj` directly:

```
nuget pack -Build -OutputDirectory out Org.OpenAPITools.csproj
```

Then, publish to a [local feed](https://docs.microsoft.com/en-us/nuget/hosting-packages/local-feeds) or [other host](https://docs.microsoft.com/en-us/nuget/hosting-packages/overview) and consume the new package via Nuget as usual.


## Getting Started

```csharp
using System.Collections.Generic;
using System.Diagnostics;
using Org.OpenAPITools.Api;
using Org.OpenAPITools.Client;
using Org.OpenAPITools.Model;

namespace Example
{
    public class Example
    {
        public static void Main()
        {

        }
    }
}
```

## Documentation for API Endpoints

All URIs are relative to *http://localhost*

Class | Method | HTTP request | Description
------------ | ------------- | ------------- | -------------


## Documentation for Models

 - [Model.BaseSampleEvent](docs/BaseSampleEvent.md)
 - [Model.Protocol](docs/Protocol.md)
 - [Model.Sample](docs/Sample.md)
 - [Model.SampleCancelled](docs/SampleCancelled.md)
 - [Model.SampleFlagged](docs/SampleFlagged.md)
 - [Model.SampleFlaggedAllOf](docs/SampleFlaggedAllOf.md)
 - [Model.SampleMessage](docs/SampleMessage.md)
 - [Model.SampleMixed](docs/SampleMixed.md)
 - [Model.SampleMixedAllOf](docs/SampleMixedAllOf.md)
 - [Model.SampleProtocolFinished](docs/SampleProtocolFinished.md)
 - [Model.SampleProtocolStepFinished](docs/SampleProtocolStepFinished.md)
 - [Model.SampleProtocolStepFinishedAllOf](docs/SampleProtocolStepFinishedAllOf.md)
 - [Model.SampleProtocolStepStarted](docs/SampleProtocolStepStarted.md)
 - [Model.SampleProtocolStepStartedAllOf](docs/SampleProtocolStepStartedAllOf.md)
 - [Model.SampleReduced](docs/SampleReduced.md)
 - [Model.SampleReducedAllOf](docs/SampleReducedAllOf.md)
 - [Model.SampleRescheduled](docs/SampleRescheduled.md)
 - [Model.SampleRescheduledAllOf](docs/SampleRescheduledAllOf.md)
 - [Model.SampleResult](docs/SampleResult.md)
 - [Model.SampleResultAllOf](docs/SampleResultAllOf.md)
 - [Model.SampleScheduled](docs/SampleScheduled.md)
 - [Model.SampleScheduledAllOf](docs/SampleScheduledAllOf.md)
 - [Model.SampleWorkflowFinished](docs/SampleWorkflowFinished.md)
 - [Model.SampleWorkflowFinishedAllOf](docs/SampleWorkflowFinishedAllOf.md)


## Documentation for Authorization

All endpoints do not require authorization.
